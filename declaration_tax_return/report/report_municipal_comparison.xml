<?xml version='1.0' encoding='utf-8'?>
<odoo>


    <record id="paperformat_comparativo_municipal_estadisticas" model="report.paperformat">
        <field name="name">Comparativo municipal y estadisticas</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">20</field>
        <field name="margin_bottom">23</field>
        <field name="margin_left">7</field>
        <field name="margin_right">7</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">35</field>
        <field name="dpi">90</field>
    </record>

    <template id="report_municipal_comparison" name="Comparacion Municipal">
        <t t-call="web.html_container">
             <t t-call="web.basic_layout">
                 <style>
                    table {
                        border: 2px solid #1f4e78;
                        border-collapse: collapse;
                        font-size: 12px;
                    }
                     h5{
                      color:#273d69;
                     }
                    th, td {
                      border: 1px solid black;
                      border-collapse: collapse;
                      padding: 1px;
                      font-size: 10px;
                      text-align: center;
                    }
                     .exampleone {
                      background-color: teal;
                      color: white;
                    }
                     .fondo_periodo {
                      background-color: #203764;
                      color: #fff;
                    }
                    </style>
                <t t-foreach="docs" t-as="o">
                    <div>
                        <h5>1. RECAUDACIÓN MENSUAL POR MUNICIPIO (Bs.)</h5>
                        <table style="width:100%;font-size: 12px;">
                            <tr>
                                <tr>
                                    <th style="background-color:#203764; color:#ffffff; height: 45px;">
                                        PERIODO
                                    </th>
                                        <t t-foreach="o._date_range()" t-as="d">
                                    <td style="width: 15%">
                                        <span t-esc="d" t-options='{"widget": "uppercase"}' />
                                    </td>
                                        </t>
                                </tr>
                                <t t-foreach="o.company_ids" t-as="alcaldia">
                                    <tr>
                                        <th>
                                            <img t-attf-src="data:image/*;base64,{{alcaldia.logo}}"
                                                style="width:auto; height:50px;"/>
                                        </th>
                                       <t t-foreach="o.line_ids" t-if="alcaldia == l.company_id" t-as="l">
                                            <td>
                                                <span t-if="l.amount_bs != 0" t-field='l.amount_bs' t-options='{"widget": "float","precision":0}' />
                                                <span t-elif="l.amount_bs == 0">ND</span>
                                            </td>
                                        </t>
                                    </tr>
                                </t>
                            </tr>
                        </table>
                        <br/>
                        <table style="width:100%">
                           <thead>
                                <tr>
                                    <td>
                                        <div align="center">
                                            <t t-set="graphic" t-value="docs.retun_graph_base64(users)"/>
                                            <img t-attf-src="data:img/*;base64,{{graphic}}" class="img img-fluid"/>

                                        </div>
                                    </td>
                                    <td>
                                        <div align="center">
                                            <t t-set="graphic" t-value="docs.retun_graph_base64(users)"/>
                                            <img t-attf-src="data:img/*;base64,{{graphic}}" class="img img-fluid"/>
                                        </div>
                                    </td>
                                </tr>
                            </thead>
                        </table>
                        <br/>
                     <!--   </div>
                     <div style="margin-top:15px;">-->
                        <h5>2. RECAUDACIÓN VS META MENSUAL, (Bs.)</h5>
                         <table style="width:100%;font-size: 12px;">
                            <tr>
                                <tr>
                                    <th style="background-color:#203764; color:#ffffff; height: 45px;">
                                        RECAUDACION
                                    </th>
                                    <td style="width: 15%">
                                        <span>ESTIMADO</span>
                                    </td>
                                    <td style="width: 15%">
                                        <span>RECAUDADO</span>
                                    </td>
                                    <td style="width: 15%">
                                        <span>PENDIENTE</span>
                                    </td>
                                    <td style="width: 15%">
                                        <span>% LOGRADO (META DEL MES)</span>
                                    </td>
                                </tr>
                                <t t-foreach="o.company_ids" t-as="alcaldia">
                                    <tr>
                                        <th>
                                            <img t-attf-src="data:image/*;base64,{{alcaldia.logo}}"
                                                style="width:auto; height:50px;"/>
                                        </th>
                                        <t t-foreach="o.goal_ids" t-if="alcaldia == g.company_id" t-as="g">
                                       <!--<t t-set="g" t-value="o.goal_ids"  />-->
                                            <td><span t-esc='g.goal'  t-options='{"widget": "float","precision":0}' /></td>
                                            <td><span t-esc='g.raised'  t-options='{"widget": "float","precision":0}' /></td>
                                            <td><span t-esc='g.pending'  t-options='{"widget": "float","precision":0}' /></td>
                                            <td><span t-esc='g.accomplished' t-options='{"widget": "float","precision":0}' />%</td>
                                       </t>
                                    </tr>
                                </t> 
                             </tr>
                       </table>
                       <table style="width:100%">
                           <thead>
                               <tr>
                                   <td>
                                       <div align="center">
                                           <t t-set="graphic" t-value="docs.retun_graph_base64_2(users)"/>
                                           <img t-attf-src="data:img/*;base64,{{graphic}}" class="img img-fluid"/>
                                       </div>
                                   </td>
                               </tr>
                           </thead>
                        </table>
                     </div>
<!--                    <div style="margin-top:150px;">-->
<!--                        <h5>3. INDICADORES MACROECONÓMICOS</h5>-->
<!--                    <table style="width:100%;font-size: 12px;">-->
<!--                        <tr>-->
<!--                            <th class="exampleone">Fecha Mes Año</th>-->
<!--                                <th>Alcaldia 1</th>-->
<!--                                <th>Alcaldia 2</th>-->
<!--                                <th>Alcaldia 3</th>-->
<!--                                <th>Alcaldia 4</th>-->
<!--                                <th>Alcaldia 5</th>-->
<!--                                <th>Alcaldia 6</th>-->
<!--                                <th>Alcaldia 7</th>-->
<!--                                <th>Alcaldia 8</th>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                    </table>-->
<!--                    <table style="width:100%">-->
<!--                            <thead>-->
<!--                                <tr style="background-color: #132864;">-->
<!--                                    <td>-->
<!--                                        <div align="center">-->
<!--                                            <t t-set="graphic" t-value="docs.retun_graph_base64_3(users)"/>-->
<!--                                            <img t-attf-src="data:img/*;base64,{{graphic}}" class="img img-fluid"/>-->
<!--                                        </div>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                            </thead>-->
<!--                        </table>-->
<!--                    </div>-->
<!--                    <div style="margin-top:30px;">-->
<!--                        <h5>4. RECAUDACIÓN MENSUAL EXPRESADA EN $ (SEGÚN TIPO DE CAMBIO PROMEDIO DEL MES)</h5>-->
<!--                        <table style="width:100%">-->
<!--                            <tr>-->
<!--                             <th class="exampleone">Fecha Mes Año</th>-->
<!--                                <th>Alcaldia 1</th>-->
<!--                                <th>Alcaldia 2</th>-->
<!--                                <th>Alcaldia 3</th>-->
<!--                                <th>Alcaldia 4</th>-->
<!--                                <th>Alcaldia 5</th>-->
<!--                                <th>Alcaldia 6</th>-->
<!--                                <th>Alcaldia 7</th>-->
<!--                                <th>Alcaldia 8</th>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                            <tr>-->
<!--                                <td>ene-21</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>250.862</td>-->
<!--                                <td>208.316</td>-->
<!--                                <td>142.298</td>-->
<!--                                <td>ND</td>-->
<!--                                <td>931.527</td>-->
<!--                                <td>1.597.006</td>-->
<!--                                <td>2.179.727</td>-->
<!--                            </tr>-->
<!--                    </table>-->
<!--                    <table style="width:100%">-->
<!--                            <thead>-->
<!--                                <tr style="background-color: #555555a1;" >-->
<!--                                    <td >-->
<!--                                        <div align="center" >-->
<!--                                            <t t-set="graphic" t-value="docs.retun_graph_base64_4(users)"/>-->
<!--                                            <img t-attf-src="data:img/*;base64,{{graphic}}" class="img img-fluid"/>-->
<!--                                        </div>-->
<!--                                    </td>-->
<!--                                    <td >-->
<!--                                        <div align="center" >-->
<!--                                            <t t-set="graphic" t-value="docs.retun_graph_base64_4(users)"/>-->
<!--                                            <img t-attf-src="data:img/*;base64,{{graphic}}" class="img img-fluid"/>-->
<!--                                        </div>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                            </thead>-->
<!--                        </table>-->
<!--                    </div >-->
                </t>
            </t>
        </t>
    </template>
</odoo>